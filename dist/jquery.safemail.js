!function(){"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t={linkTextRegex:/(.*?)\s+\((.*?)\)/,atRegex:/\s+at\s+/g,dotRegex:/\s+dot\s+/g,applyTitleAsSubject:!0},i=function(e,t){return t.replace(e.atRegex,"@").replace(e.dotRegex,".")};e.fn.safemail=function(n){return n=e.extend({},t,n),e(this).each(function(){if("input"===this.tagName.toLowerCase())e(this).val(i(n,e(this).val()));else{var t,a,s,o,c=e(this).text();n.linkTextRegex.test(c)?(t=n.linkTextRegex.exec(c),a=i(n,t[1]),s=t[2]):s=a=i(n,c),o=n.applyTitleAsSubject&&e(this).attr("title")?"?subject="+encodeURIComponent(e(this).attr("title")):"",e(this).before(e('<a href="mailto:'+a+o+'">'+s+"</a>")).hide()}})}})}();